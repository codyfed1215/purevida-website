---
import Layout from '../layouts/Layout.astro';

const faqs = [
  {
    category: "Getting Started",
    questions: [
      {
        q: "How does the free trial work?",
        a: "We install a system at your location completely free of charge. Use it for a trial period with no obligation. If you love it (and you will), we'll set you up with a simple monthly service agreement. If not, we'll pick it up—no questions asked."
      },
      {
        q: "Is there a long-term contract?",
        a: "No. We offer flexible month-to-month agreements. We believe in earning your business every month, not locking you into lengthy contracts."
      },
      {
        q: "What areas do you service?",
        a: "We currently serve the Dallas-Fort Worth Metroplex, Austin, and San Antonio metro areas. This includes surrounding cities like Plano, Frisco, Round Rock, New Braunfels, and more."
      },
      {
        q: "How quickly can you install?",
        a: "In most cases, we can schedule installation within 3-5 business days of your request. We work around your schedule to minimize disruption to your workplace."
      }
    ]
  },
  {
    category: "Equipment & Installation",
    questions: [
      {
        q: "What's included with installation?",
        a: "Everything. We handle the full installation at no charge, including connecting to your water line, setting up the filtration system, and testing to ensure perfect operation. We also train your team on how to use the equipment."
      },
      {
        q: "Do I need special plumbing?",
        a: "Most buildings are already equipped with the water lines we need. Our technicians assess your space during the initial consultation and handle any minor modifications required—all included in the installation."
      },
      {
        q: "What brands of equipment do you use?",
        a: "We partner exclusively with premium manufacturers known for reliability and performance. All equipment features advanced filtration, touchless operation, and self-cleaning technology."
      },
      {
        q: "Can I choose between different models?",
        a: "Absolutely. We offer a range of water coolers, ice machines, and coffee systems to match your office size, usage needs, and preferences. We'll help you select the right fit."
      }
    ]
  },
  {
    category: "Service & Maintenance",
    questions: [
      {
        q: "What does your service include?",
        a: "Our full-service agreement covers everything: scheduled filter changes, preventive maintenance, sanitization, and repairs. If something breaks, we fix it at no additional cost."
      },
      {
        q: "How often do you change filters?",
        a: "Filter change frequency depends on your usage and water quality, but typically every 3-6 months. We track this for you and show up automatically—you don't have to remember or schedule anything."
      },
      {
        q: "What if the machine breaks down?",
        a: "Call us and we'll have a technician on-site promptly, usually within 24 hours. Repairs are included in your service agreement at no extra charge."
      },
      {
        q: "Do I need to do any maintenance myself?",
        a: "No. We handle all maintenance. The only thing your team needs to do is enjoy the water. Our systems also feature self-cleaning technology that runs automatically."
      }
    ]
  },
  {
    category: "Water Quality & Safety",
    questions: [
      {
        q: "How does the filtration work?",
        a: "Our systems use multi-stage filtration including sediment filters, activated carbon, and reverse osmosis (on select models). This removes 99.9% of contaminants including chlorine, lead, bacteria, and other impurities."
      },
      {
        q: "Is the water tested?",
        a: "Our filtration systems are NSF certified. During regular service visits, our technicians verify the system is operating correctly and water quality meets our standards."
      },
      {
        q: "Are the machines sanitary?",
        a: "Extremely. Our systems feature touchless dispensing, anti-microbial surfaces, and automated sanitization cycles. Many models include UV-C light purification for additional protection."
      }
    ]
  },
  {
    category: "Pricing & Billing",
    questions: [
      {
        q: "How much does it cost?",
        a: "Pricing varies based on the equipment and your needs, but most businesses pay between $45-150 per month—significantly less than bottled water delivery. Contact us for a custom quote."
      },
      {
        q: "Are there any hidden fees?",
        a: "None. Your monthly rate covers the equipment, all filters, maintenance, repairs, and service calls. The only variable is your water utility usage, which is minimal."
      },
      {
        q: "How does billing work?",
        a: "Simple monthly invoicing. Most clients set up automatic payments for convenience. No surprise charges, no annual increases hidden in fine print."
      }
    ]
  }
];
---

<Layout
  title="FAQ"
  description="Frequently asked questions about PureVida bottleless water coolers, ice machines, and coffee systems. Learn about installation, service, pricing, and more."
>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-sky-50 to-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <h1 class="text-4xl lg:text-5xl font-bold text-gray-900">Frequently Asked Questions</h1>
        <p class="mt-4 text-xl text-gray-600">
          Everything you need to know about our service.
        </p>
      </div>
    </div>
  </section>

  <!-- FAQ Sections -->
  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      {faqs.map((section, sectionIndex) => (
        <div class={sectionIndex > 0 ? "mt-16" : ""}>
          <h2 class="text-2xl font-bold text-gray-900 mb-8 pb-4 border-b border-gray-200">
            {section.category}
          </h2>

          <div class="space-y-4">
            {section.questions.map((faq, index) => (
              <div class="faq-item border border-gray-200 rounded-xl overflow-hidden transition-all duration-200 hover:border-gray-300">
                <button
                  class="faq-trigger w-full flex items-center justify-between p-6 text-left bg-white hover:bg-gray-50 transition-colors duration-200"
                  aria-expanded="false"
                >
                  <span class="font-semibold text-gray-900 pr-4">{faq.q}</span>
                  <svg class="faq-icon w-5 h-5 text-sky-500 shrink-0 transition-transform duration-300 ease-out" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div class="faq-content grid grid-rows-[0fr] transition-all duration-300 ease-out">
                  <div class="overflow-hidden">
                    <div class="px-6 pb-6 text-gray-600 leading-relaxed">
                      {faq.a}
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Still Have Questions -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-2xl p-8 md:p-12 shadow-sm border border-gray-100 flex flex-col md:flex-row items-center justify-between gap-8">
        <div>
          <h3 class="text-2xl font-bold text-gray-900">Still have questions?</h3>
          <p class="text-gray-600 mt-2">Our team is here to help. Reach out anytime.</p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="tel:+18885340117" class="inline-flex items-center justify-center border-2 border-gray-300 hover:border-sky-500 text-gray-700 hover:text-sky-600 px-6 py-3 rounded-xl font-semibold transition">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            (888) 534-0117
          </a>
          <button data-trial-modal class="inline-flex items-center justify-center bg-sky-500 hover:bg-sky-600 text-white px-6 py-3 rounded-xl font-semibold transition cursor-pointer">
            Request Free Trial
          </button>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.querySelectorAll('.faq-trigger').forEach(button => {
      button.addEventListener('click', () => {
        const item = button.parentElement;
        const content = item?.querySelector('.faq-content');
        const icon = button.querySelector('.faq-icon');
        const isOpen = button.getAttribute('aria-expanded') === 'true';

        // Close all other items
        document.querySelectorAll('.faq-item').forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.querySelector('.faq-trigger')?.setAttribute('aria-expanded', 'false');
            otherItem.querySelector('.faq-content')?.classList.remove('grid-rows-[1fr]');
            otherItem.querySelector('.faq-content')?.classList.add('grid-rows-[0fr]');
            otherItem.querySelector('.faq-icon')?.classList.remove('rotate-180');
            otherItem.classList.remove('bg-gray-50');
          }
        });

        // Toggle current item
        if (!isOpen) {
          button.setAttribute('aria-expanded', 'true');
          content?.classList.remove('grid-rows-[0fr]');
          content?.classList.add('grid-rows-[1fr]');
          icon?.classList.add('rotate-180');
          item?.classList.add('bg-gray-50');
        } else {
          button.setAttribute('aria-expanded', 'false');
          content?.classList.remove('grid-rows-[1fr]');
          content?.classList.add('grid-rows-[0fr]');
          icon?.classList.remove('rotate-180');
          item?.classList.remove('bg-gray-50');
        }
      });
    });
  </script>
</Layout>
